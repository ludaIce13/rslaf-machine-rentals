{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vidai\\\\OneDrive\\\\Desktop\\\\smartrentals_mvp\\\\frontend\\\\src\\\\components\\\\Inventory.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getProducts, createProduct, updateProduct, getCategories, getInventoryByProduct, createInventoryItem, updateInventoryItem, deleteInventoryItem, getInventoryCounts, uploadProductImage } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Inventory = () => {\n  _s();\n  var _editData$daily_rate, _editData$hourly_rate, _editData$min_hours, _editData$max_hours;\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('All Categories');\n  const [categoriesList, setCategoriesList] = useState([]);\n  const [showForm, setShowForm] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    daily_rate: '',\n    hourly_rate: '',\n    sku: '',\n    image_url: '',\n    published: true,\n    category: ''\n  });\n  const [showNewCategory, setShowNewCategory] = useState(false);\n  const [newCategory, setNewCategory] = useState('');\n  const [creating, setCreating] = useState(false);\n  // Units drawer state\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [units, setUnits] = useState([]);\n  const [unitForm, setUnitForm] = useState({\n    label: '',\n    location: '',\n    active: true\n  });\n  const [savingUnit, setSavingUnit] = useState(false);\n  const [counts, setCounts] = useState({}); // product_id -> {active,total}\n  // Edit product modal\n  const [editOpen, setEditOpen] = useState(false);\n  const [editData, setEditData] = useState(null);\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n    fetchCounts();\n  }, []);\n  const fetchProducts = async () => {\n    try {\n      const response = await getProducts();\n      setProducts(response.data || []);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const openUnitsDrawer = async product => {\n    setSelectedProduct(product);\n    setDrawerOpen(true);\n    await loadUnits(product.id);\n  };\n  const closeUnitsDrawer = () => {\n    setDrawerOpen(false);\n    setSelectedProduct(null);\n    setUnits([]);\n    setUnitForm({\n      label: '',\n      location: '',\n      active: true\n    });\n  };\n  const loadUnits = async productId => {\n    try {\n      const res = await getInventoryByProduct(productId);\n      setUnits(Array.isArray(res.data) ? res.data : []);\n    } catch (e) {\n      console.error('Failed to load units', e);\n    }\n  };\n  const addUnit = async e => {\n    e.preventDefault();\n    if (!selectedProduct) return;\n    setSavingUnit(true);\n    try {\n      await createInventoryItem({\n        product_id: selectedProduct.id,\n        label: unitForm.label,\n        location: unitForm.location,\n        active: !!unitForm.active\n      });\n      setUnitForm({\n        label: '',\n        location: '',\n        active: true\n      });\n      await loadUnits(selectedProduct.id);\n      await fetchCounts();\n    } catch (e) {\n      console.error('Failed to create unit', e);\n      alert('Failed to create unit');\n    } finally {\n      setSavingUnit(false);\n    }\n  };\n  const toggleUnitActive = async it => {\n    try {\n      await updateInventoryItem(it.id, {\n        active: !it.active\n      });\n      await loadUnits(selectedProduct.id);\n      await fetchCounts();\n    } catch (e) {\n      console.error('Failed to update unit', e);\n      alert('Failed to update unit');\n    }\n  };\n  const renameUnit = async (it, next) => {\n    try {\n      console.log('Saving unit:', it.id, next); // Debug log\n      const response = await updateInventoryItem(it.id, {\n        label: next.label,\n        location: next.location\n      });\n      console.log('Save response:', response); // Debug log\n      await loadUnits(selectedProduct.id);\n      await fetchCounts();\n      // Clear the edit fields after successful save\n      setUnits(prev => prev.map(u => u.id === it.id ? {\n        ...u,\n        _editLabel: undefined,\n        _editLoc: undefined\n      } : u));\n    } catch (e) {\n      var _e$response, _e$response$data;\n      console.error('Failed to rename unit', e);\n      alert('Failed to rename unit: ' + (((_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.detail) || e.message));\n    }\n  };\n  const removeUnit = async it => {\n    if (!window.confirm('Delete this unit? This cannot be undone.')) return;\n    try {\n      await deleteInventoryItem(it.id);\n      await loadUnits(selectedProduct.id);\n      await fetchCounts();\n    } catch (e) {\n      console.error('Failed to delete unit', e);\n      alert('Failed to delete unit');\n    }\n  };\n  const openEdit = product => {\n    setEditData({\n      ...product\n    });\n    setEditOpen(true);\n  };\n  const closeEdit = () => {\n    setEditOpen(false);\n    setEditData(null);\n  };\n  const saveEdit = async e => {\n    e.preventDefault();\n    try {\n      const payload = {\n        name: editData.name,\n        sku: editData.sku,\n        description: editData.description,\n        image_url: editData.image_url,\n        category: editData.category,\n        published: !!editData.published,\n        daily_rate: parseFloat(editData.daily_rate || 0),\n        hourly_rate: parseFloat(editData.hourly_rate || 0),\n        min_hours: editData.min_hours != null && editData.min_hours !== '' ? parseInt(editData.min_hours, 10) : null,\n        max_hours: editData.max_hours != null && editData.max_hours !== '' ? parseInt(editData.max_hours, 10) : null\n      };\n      await updateProduct(editData.id, payload);\n      await fetchProducts();\n      closeEdit();\n    } catch (e) {\n      console.error('Failed to save product', e);\n      alert('Failed to save product');\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      const res = await getCategories();\n      setCategoriesList(Array.isArray(res.data) ? res.data : []);\n    } catch (e) {\n      console.error('Failed to load categories', e);\n    }\n  };\n  const fetchCounts = async () => {\n    try {\n      const res = await getInventoryCounts();\n      console.log('Counts response:', res); // Debug log\n      const data = res.data || res || []; // Handle both res.data and direct response\n      const byId = {};\n      data.forEach(r => {\n        byId[r.product_id] = {\n          active: r.active,\n          total: r.total\n        };\n      });\n      console.log('Counts by ID:', byId); // Debug log\n      setCounts(byId);\n    } catch (e) {\n      console.error('Failed to load counts', e);\n    }\n  };\n  const getStatusBadge = status => {\n    const statusStyles = {\n      available: 'bg-green-100 text-green-800 border border-green-200',\n      reserved: 'bg-orange-100 text-orange-800 border border-orange-200',\n      maintenance: 'bg-red-100 text-red-800 border border-red-200',\n      rented: 'bg-blue-100 text-blue-800 border border-blue-200'\n    };\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-medium ${statusStyles[(status || 'available').toLowerCase()] || statusStyles.available}`,\n      children: (status || 'Available').charAt(0).toUpperCase() + (status || 'Available').slice(1)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this);\n  };\n  const getProductImage = product => {\n    if (product !== null && product !== void 0 && product.image_url) return product.image_url;\n    const imageMap = {\n      'projector': 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop',\n      'sound': 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop',\n      'camera': 'https://images.unsplash.com/photo-1502920917128-1aa500764cbd?w=400&h=300&fit=crop',\n      'lighting': 'https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400&h=300&fit=crop',\n      'microphone': 'https://images.unsplash.com/photo-1590602847861-f357a9332bbc?w=400&h=300&fit=crop',\n      'tripod': 'https://images.unsplash.com/photo-1606983340126-99ab4feaa64a?w=400&h=300&fit=crop',\n      'screen': 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop'\n    };\n    const key = Object.keys(imageMap).find(k => ((product === null || product === void 0 ? void 0 : product.name) || '').toLowerCase().includes(k));\n    return imageMap[key] || 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop';\n  };\n\n  // Create product (merged Products functionality)\n  const handleCreate = async e => {\n    e.preventDefault();\n    setCreating(true);\n    try {\n      const payload = {\n        ...formData,\n        daily_rate: parseFloat(formData.daily_rate || 0),\n        hourly_rate: parseFloat(formData.hourly_rate || 0),\n        category: showNewCategory ? newCategory : formData.category\n      };\n      await createProduct(payload);\n      setFormData({\n        name: '',\n        description: '',\n        daily_rate: '',\n        hourly_rate: '',\n        sku: '',\n        image_url: '',\n        published: true,\n        category: ''\n      });\n      setShowNewCategory(false);\n      setNewCategory('');\n      setShowForm(false);\n      await fetchProducts();\n      await fetchCategories();\n    } catch (err) {\n      console.error('Failed to create product', err);\n      alert('Failed to create product');\n    } finally {\n      setCreating(false);\n    }\n  };\n  const mockProducts = [{\n    id: 1,\n    name: 'Projector Model X100',\n    category: 'Projectors',\n    daily_rate: 50,\n    status: 'Available'\n  }, {\n    id: 2,\n    name: 'Sound System Pro 2000',\n    category: 'Audio Equipment',\n    daily_rate: 80,\n    status: 'Reserved'\n  }, {\n    id: 3,\n    name: 'Camera Kit Deluxe',\n    category: 'Cameras',\n    daily_rate: 120,\n    status: 'Available'\n  }, {\n    id: 4,\n    name: 'Lighting Kit Basic',\n    category: 'Lighting',\n    daily_rate: 40,\n    status: 'Maintenance'\n  }, {\n    id: 5,\n    name: 'Microphone Set Wireless',\n    category: 'Audio Equipment',\n    daily_rate: 60,\n    status: 'Available'\n  }, {\n    id: 6,\n    name: 'Tripod Heavy Duty',\n    category: 'Accessories',\n    daily_rate: 20,\n    status: 'Available'\n  }, {\n    id: 7,\n    name: 'Projector Screen Large',\n    category: 'Accessories',\n    daily_rate: 30,\n    status: 'Available'\n  }, {\n    id: 8,\n    name: 'Sound System Compact',\n    category: 'Audio Equipment',\n    daily_rate: 70,\n    status: 'Rented'\n  }];\n  const displayProducts = products.length > 0 ? products : mockProducts;\n  const categories = ['All Categories', ...new Set(displayProducts.map(p => p.category).filter(Boolean))];\n  const filteredProducts = displayProducts.filter(product => {\n    const matchesSearch = (product.name || '').toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesCategory = categoryFilter === 'All Categories' || (product.category || '') === categoryFilter;\n    return matchesSearch && matchesCategory;\n  });\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-500\",\n        children: \"Loading inventory...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-semibold text-gray-900\",\n        children: \"Inventory\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowForm(v => !v),\n        className: \"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-lg\",\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), showForm ? 'Cancel' : 'Add Product']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), showForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 bg-white border border-gray-200 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Add New Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCreate,\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full border border-gray-300 rounded-lg p-2\",\n            value: formData.name,\n            onChange: e => setFormData({\n              ...formData,\n              name: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"SKU\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full border border-gray-300 rounded-lg p-2\",\n            value: formData.sku,\n            onChange: e => setFormData({\n              ...formData,\n              sku: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Daily Rate ($)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            step: \"0.01\",\n            className: \"w-full border border-gray-300 rounded-lg p-2\",\n            value: formData.daily_rate,\n            onChange: e => setFormData({\n              ...formData,\n              daily_rate: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Hourly Rate ($)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            step: \"0.01\",\n            className: \"w-full border border-gray-300 rounded-lg p-2\",\n            value: formData.hourly_rate,\n            onChange: e => setFormData({\n              ...formData,\n              hourly_rate: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Product Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: async e => {\n              const f = e.target.files && e.target.files[0];\n              if (!f) return;\n              try {\n                var _res$data, _res$data2;\n                const res = await uploadProductImage(f);\n                const url = ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.url) || ((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.path) || '';\n                if (url) setFormData({\n                  ...formData,\n                  image_url: url\n                });\n              } catch (err) {\n                console.error('Upload failed', err);\n                alert('Failed to upload image');\n              }\n            },\n            className: \"w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this), formData.image_url && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-xs text-gray-600 break-all\",\n            children: [\"Uploaded: \", formData.image_url]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [!showNewCategory ? /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"flex-1 border border-gray-300 rounded-lg p-2\",\n              value: formData.category,\n              onChange: e => setFormData({\n                ...formData,\n                category: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select a category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 21\n              }, this), categoriesList.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: c,\n                children: c\n              }, c, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 48\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"flex-1 border border-gray-300 rounded-lg p-2\",\n              value: newCategory,\n              onChange: e => setNewCategory(e.target.value),\n              placeholder: \"New category name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowNewCategory(v => !v),\n              className: \"px-3 py-2 border border-gray-300 rounded-lg\",\n              children: showNewCategory ? 'Use existing' : '+ New'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"published\",\n            type: \"checkbox\",\n            checked: formData.published,\n            onChange: e => setFormData({\n              ...formData,\n              published: e.target.checked\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"published\",\n            className: \"text-sm text-gray-700\",\n            children: \"Published\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"w-full border border-gray-300 rounded-lg p-2\",\n            rows: 3,\n            value: formData.description,\n            onChange: e => setFormData({\n              ...formData,\n              description: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: creating,\n            className: \"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\",\n            children: creating ? 'Creating...' : 'Create Product'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex-1 max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search inventory...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-5 w-5 text-gray-400\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: categoryFilter,\n        onChange: e => setCategoryFilter(e.target.value),\n        className: \"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n        children: categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: category,\n          children: category\n        }, category, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n      children: filteredProducts.map(product => {\n        var _counts$product$id, _counts$product$id2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg overflow-hidden border border-gray-200 hover:shadow-sm transition-shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: getProductImage(product),\n              alt: product.name,\n              className: \"w-full h-48 object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this), getStatusBadge(product.status)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900 mb-1\",\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-sm mb-3\",\n              children: product.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-green-600 font-semibold\",\n                children: (product.hourly_rate || 0) > 0 ? `$${product.hourly_rate}/hour` : `$${product.daily_rate}/day`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-600 bg-gray-100 border border-gray-200 px-2 py-1 rounded\",\n                  children: [((_counts$product$id = counts[product.id]) === null || _counts$product$id === void 0 ? void 0 : _counts$product$id.active) || 0, \" active / \", ((_counts$product$id2 = counts[product.id]) === null || _counts$product$id2 === void 0 ? void 0 : _counts$product$id2.total) || 0, \" total\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openUnitsDrawer(product),\n                  className: \"text-blue-600 hover:text-blue-700 text-sm\",\n                  children: \"Units\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openEdit(product),\n                  className: \"text-gray-700 hover:text-gray-900 text-sm\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 7\n    }, this), filteredProducts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-500 text-lg\",\n        children: \"No items found matching your criteria\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 9\n    }, this), drawerOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-40\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 bg-black/30\",\n        onClick: closeUnitsDrawer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute right-0 top-0 h-full w-full sm:w-[420px] bg-white shadow-xl border-l border-gray-200 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-b border-gray-200 flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: [\"Units \\u2022 \", selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeUnitsDrawer,\n            className: \"text-gray-600 hover:text-gray-900\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 overflow-y-auto flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium mb-2\",\n            children: \"Add Unit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: addUnit,\n            className: \"grid grid-cols-1 gap-3 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm text-gray-700 mb-1\",\n                children: \"Label\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"w-full border border-gray-300 rounded-lg p-2\",\n                value: unitForm.label,\n                onChange: e => setUnitForm({\n                  ...unitForm,\n                  label: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm text-gray-700 mb-1\",\n                children: \"Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"w-full border border-gray-300 rounded-lg p-2\",\n                value: unitForm.location,\n                onChange: e => setUnitForm({\n                  ...unitForm,\n                  location: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"inline-flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: unitForm.active,\n                onChange: e => setUnitForm({\n                  ...unitForm,\n                  active: e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-700\",\n                children: \"Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: savingUnit,\n              className: \"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700\",\n              children: savingUnit ? 'Saving...' : 'Add Unit'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium mb-2\",\n            children: \"Existing Units\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this), units.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-500 text-sm\",\n            children: \"No units yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: units.map(it => {\n              var _it$_editLabel, _it$_editLoc;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border border-gray-200 rounded-lg p-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-xs text-gray-600 mb-1\",\n                      children: \"Label\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"w-full font-medium border border-gray-300 focus:border-blue-500 rounded px-2 py-1\",\n                      value: (_it$_editLabel = it._editLabel) !== null && _it$_editLabel !== void 0 ? _it$_editLabel : it.label,\n                      onChange: e => setUnits(prev => prev.map(u => u.id === it.id ? {\n                        ...u,\n                        _editLabel: e.target.value\n                      } : u))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 457,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 455,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-xs text-gray-600 mb-1\",\n                      children: \"Location\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"w-full border border-gray-300 focus:border-blue-500 rounded px-2 py-1 text-sm\",\n                      value: (_it$_editLoc = it._editLoc) !== null && _it$_editLoc !== void 0 ? _it$_editLoc : it.location || '',\n                      onChange: e => setUnits(prev => prev.map(u => u.id === it.id ? {\n                        ...u,\n                        _editLoc: e.target.value\n                      } : u)),\n                      placeholder: \"Enter location\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 465,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500\",\n                    children: [\"Unit ID: #\", it.id]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => toggleUnitActive(it),\n                      className: `px-3 py-1 rounded text-white text-sm font-medium ${it.active ? 'bg-green-600 hover:bg-green-700' : 'bg-gray-400 hover:bg-gray-500'}`,\n                      children: it.active ? 'Active' : 'Inactive'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          var _it$_editLabel2, _it$_editLoc2;\n                          return renameUnit(it, {\n                            label: (_it$_editLabel2 = it._editLabel) !== null && _it$_editLabel2 !== void 0 ? _it$_editLabel2 : it.label,\n                            location: (_it$_editLoc2 = it._editLoc) !== null && _it$_editLoc2 !== void 0 ? _it$_editLoc2 : it.location\n                          });\n                        },\n                        className: \"px-3 py-1 rounded border border-blue-300 text-blue-700 hover:bg-blue-50 text-sm font-medium\",\n                        children: \"Save\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 481,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => removeUnit(it),\n                        className: \"px-3 py-1 rounded border border-red-300 text-red-700 hover:bg-red-50 text-sm font-medium\",\n                        children: \"Delete\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 487,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 23\n                }, this)\n              }, it.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 9\n    }, this), editOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 bg-black/30\",\n        onClick: closeEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 flex items-center justify-center p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white w-full max-w-2xl rounded-lg shadow-xl border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-b flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold\",\n              children: [\"Edit Product \\u2022 #\", editData === null || editData === void 0 ? void 0 : editData.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: closeEdit,\n              className: \"text-gray-600 hover:text-gray-900\",\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: saveEdit,\n            className: \"p-4 grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"w-full border rounded p-2\",\n                value: (editData === null || editData === void 0 ? void 0 : editData.name) || '',\n                onChange: e => setEditData({\n                  ...editData,\n                  name: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"SKU\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"w-full border rounded p-2\",\n                value: (editData === null || editData === void 0 ? void 0 : editData.sku) || '',\n                onChange: e => setEditData({\n                  ...editData,\n                  sku: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"Daily Rate ($)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                className: \"w-full border rounded p-2\",\n                value: (_editData$daily_rate = editData === null || editData === void 0 ? void 0 : editData.daily_rate) !== null && _editData$daily_rate !== void 0 ? _editData$daily_rate : '',\n                onChange: e => setEditData({\n                  ...editData,\n                  daily_rate: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"Hourly Rate ($)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                className: \"w-full border rounded p-2\",\n                value: (_editData$hourly_rate = editData === null || editData === void 0 ? void 0 : editData.hourly_rate) !== null && _editData$hourly_rate !== void 0 ? _editData$hourly_rate : '',\n                onChange: e => setEditData({\n                  ...editData,\n                  hourly_rate: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"Min Hours\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"1\",\n                min: \"1\",\n                className: \"w-full border rounded p-2\",\n                value: (_editData$min_hours = editData === null || editData === void 0 ? void 0 : editData.min_hours) !== null && _editData$min_hours !== void 0 ? _editData$min_hours : '',\n                onChange: e => setEditData({\n                  ...editData,\n                  min_hours: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"Max Hours (optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"1\",\n                className: \"w-full border rounded p-2\",\n                value: (_editData$max_hours = editData === null || editData === void 0 ? void 0 : editData.max_hours) !== null && _editData$max_hours !== void 0 ? _editData$max_hours : '',\n                onChange: e => setEditData({\n                  ...editData,\n                  max_hours: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"w-full border rounded p-2\",\n                value: (editData === null || editData === void 0 ? void 0 : editData.category) || '',\n                onChange: e => setEditData({\n                  ...editData,\n                  category: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"Image URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"w-full border rounded p-2\",\n                value: (editData === null || editData === void 0 ? void 0 : editData.image_url) || '',\n                onChange: e => setEditData({\n                  ...editData,\n                  image_url: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium mb-1\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"w-full border rounded p-2\",\n                rows: 3,\n                value: (editData === null || editData === void 0 ? void 0 : editData.description) || '',\n                onChange: e => setEditData({\n                  ...editData,\n                  description: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"inline-flex items-center gap-2 md:col-span-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: !!(editData !== null && editData !== void 0 && editData.published),\n                onChange: e => setEditData({\n                  ...editData,\n                  published: e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Published\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-2 flex justify-end gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: closeEdit,\n                className: \"px-4 py-2 border rounded\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"px-4 py-2 bg-blue-600 text-white rounded\",\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 277,\n    columnNumber: 5\n  }, this);\n};\n_s(Inventory, \"Tm3+uw353WMyDFnTbwky449ldgg=\");\n_c = Inventory;\nexport default Inventory;\nvar _c;\n$RefreshReg$(_c, \"Inventory\");","map":{"version":3,"names":["React","useState","useEffect","getProducts","createProduct","updateProduct","getCategories","getInventoryByProduct","createInventoryItem","updateInventoryItem","deleteInventoryItem","getInventoryCounts","uploadProductImage","jsxDEV","_jsxDEV","Inventory","_s","_editData$daily_rate","_editData$hourly_rate","_editData$min_hours","_editData$max_hours","products","setProducts","loading","setLoading","searchTerm","setSearchTerm","categoryFilter","setCategoryFilter","categoriesList","setCategoriesList","showForm","setShowForm","formData","setFormData","name","description","daily_rate","hourly_rate","sku","image_url","published","category","showNewCategory","setShowNewCategory","newCategory","setNewCategory","creating","setCreating","drawerOpen","setDrawerOpen","selectedProduct","setSelectedProduct","units","setUnits","unitForm","setUnitForm","label","location","active","savingUnit","setSavingUnit","counts","setCounts","editOpen","setEditOpen","editData","setEditData","fetchProducts","fetchCategories","fetchCounts","response","data","error","console","openUnitsDrawer","product","loadUnits","id","closeUnitsDrawer","productId","res","Array","isArray","e","addUnit","preventDefault","product_id","alert","toggleUnitActive","it","renameUnit","next","log","prev","map","u","_editLabel","undefined","_editLoc","_e$response","_e$response$data","detail","message","removeUnit","window","confirm","openEdit","closeEdit","saveEdit","payload","parseFloat","min_hours","parseInt","max_hours","byId","forEach","r","total","getStatusBadge","status","statusStyles","available","reserved","maintenance","rented","className","toLowerCase","children","charAt","toUpperCase","slice","fileName","_jsxFileName","lineNumber","columnNumber","getProductImage","imageMap","key","Object","keys","find","k","includes","handleCreate","err","mockProducts","displayProducts","length","categories","Set","p","filter","Boolean","filteredProducts","matchesSearch","matchesCategory","onClick","v","onSubmit","value","onChange","target","required","type","step","accept","f","files","_res$data","_res$data2","url","path","c","placeholder","checked","htmlFor","rows","disabled","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","_counts$product$id","_counts$product$id2","src","alt","_it$_editLabel","_it$_editLoc","_it$_editLabel2","_it$_editLoc2","min","_c","$RefreshReg$"],"sources":["C:/Users/vidai/OneDrive/Desktop/smartrentals_mvp/frontend/src/components/Inventory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getProducts, createProduct, updateProduct, getCategories, getInventoryByProduct, createInventoryItem, updateInventoryItem, deleteInventoryItem, getInventoryCounts, uploadProductImage } from '../services/api';\n\nconst Inventory = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('All Categories');\n  const [categoriesList, setCategoriesList] = useState([]);\n  const [showForm, setShowForm] = useState(false);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    daily_rate: '',\n    hourly_rate: '',\n    sku: '',\n    image_url: '',\n    published: true,\n    category: ''\n  });\n  const [showNewCategory, setShowNewCategory] = useState(false);\n  const [newCategory, setNewCategory] = useState('');\n  const [creating, setCreating] = useState(false);\n  // Units drawer state\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [units, setUnits] = useState([]);\n  const [unitForm, setUnitForm] = useState({ label: '', location: '', active: true });\n  const [savingUnit, setSavingUnit] = useState(false);\n  const [counts, setCounts] = useState({}); // product_id -> {active,total}\n  // Edit product modal\n  const [editOpen, setEditOpen] = useState(false);\n  const [editData, setEditData] = useState(null);\n\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n    fetchCounts();\n  }, []);\n\n  const fetchProducts = async () => {\n    try {\n      const response = await getProducts();\n      setProducts(response.data || []);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openUnitsDrawer = async (product) => {\n    setSelectedProduct(product);\n    setDrawerOpen(true);\n    await loadUnits(product.id);\n  };\n\n  const closeUnitsDrawer = () => {\n    setDrawerOpen(false);\n    setSelectedProduct(null);\n    setUnits([]);\n    setUnitForm({ label: '', location: '', active: true });\n  };\n\n  const loadUnits = async (productId) => {\n    try {\n      const res = await getInventoryByProduct(productId);\n      setUnits(Array.isArray(res.data) ? res.data : []);\n    } catch (e) {\n      console.error('Failed to load units', e);\n    }\n  };\n\n  const addUnit = async (e) => {\n    e.preventDefault();\n    if (!selectedProduct) return;\n    setSavingUnit(true);\n    try {\n      await createInventoryItem({\n        product_id: selectedProduct.id,\n        label: unitForm.label,\n        location: unitForm.location,\n        active: !!unitForm.active,\n      });\n      setUnitForm({ label: '', location: '', active: true });\n      await loadUnits(selectedProduct.id);\n      await fetchCounts();\n    } catch (e) {\n      console.error('Failed to create unit', e);\n      alert('Failed to create unit');\n    } finally {\n      setSavingUnit(false);\n    }\n  };\n\n  const toggleUnitActive = async (it) => {\n    try {\n      await updateInventoryItem(it.id, { active: !it.active });\n      await loadUnits(selectedProduct.id);\n      await fetchCounts();\n    } catch (e) {\n      console.error('Failed to update unit', e);\n      alert('Failed to update unit');\n    }\n  };\n\n  const renameUnit = async (it, next) => {\n    try {\n      console.log('Saving unit:', it.id, next); // Debug log\n      const response = await updateInventoryItem(it.id, { label: next.label, location: next.location });\n      console.log('Save response:', response); // Debug log\n      await loadUnits(selectedProduct.id);\n      await fetchCounts();\n      // Clear the edit fields after successful save\n      setUnits(prev => prev.map(u => u.id === it.id ? {...u, _editLabel: undefined, _editLoc: undefined} : u));\n    } catch (e) {\n      console.error('Failed to rename unit', e);\n      alert('Failed to rename unit: ' + (e.response?.data?.detail || e.message));\n    }\n  };\n\n  const removeUnit = async (it) => {\n    if (!window.confirm('Delete this unit? This cannot be undone.')) return;\n    try {\n      await deleteInventoryItem(it.id);\n      await loadUnits(selectedProduct.id);\n      await fetchCounts();\n    } catch (e) {\n      console.error('Failed to delete unit', e);\n      alert('Failed to delete unit');\n    }\n  };\n\n  const openEdit = (product) => {\n    setEditData({ ...product });\n    setEditOpen(true);\n  };\n\n  const closeEdit = () => {\n    setEditOpen(false);\n    setEditData(null);\n  };\n\n  const saveEdit = async (e) => {\n    e.preventDefault();\n    try {\n      const payload = {\n        name: editData.name,\n        sku: editData.sku,\n        description: editData.description,\n        image_url: editData.image_url,\n        category: editData.category,\n        published: !!editData.published,\n        daily_rate: parseFloat(editData.daily_rate || 0),\n        hourly_rate: parseFloat(editData.hourly_rate || 0),\n        min_hours: editData.min_hours != null && editData.min_hours !== '' ? parseInt(editData.min_hours, 10) : null,\n        max_hours: editData.max_hours != null && editData.max_hours !== '' ? parseInt(editData.max_hours, 10) : null,\n      };\n      await updateProduct(editData.id, payload);\n      await fetchProducts();\n      closeEdit();\n    } catch (e) {\n      console.error('Failed to save product', e);\n      alert('Failed to save product');\n    }\n  };\n\n  const fetchCategories = async () => {\n    try {\n      const res = await getCategories();\n      setCategoriesList(Array.isArray(res.data) ? res.data : []);\n    } catch (e) {\n      console.error('Failed to load categories', e);\n    }\n  };\n\n  const fetchCounts = async () => {\n    try {\n      const res = await getInventoryCounts();\n      console.log('Counts response:', res); // Debug log\n      const data = res.data || res || []; // Handle both res.data and direct response\n      const byId = {};\n      data.forEach((r) => { byId[r.product_id] = { active: r.active, total: r.total }; });\n      console.log('Counts by ID:', byId); // Debug log\n      setCounts(byId);\n    } catch (e) {\n      console.error('Failed to load counts', e);\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const statusStyles = {\n      available: 'bg-green-100 text-green-800 border border-green-200',\n      reserved: 'bg-orange-100 text-orange-800 border border-orange-200',\n      maintenance: 'bg-red-100 text-red-800 border border-red-200',\n      rented: 'bg-blue-100 text-blue-800 border border-blue-200'\n    };\n\n    return (\n      <span className={`absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-medium ${statusStyles[(status || 'available').toLowerCase()] || statusStyles.available}`}>\n        {(status || 'Available').charAt(0).toUpperCase() + (status || 'Available').slice(1)}\n      </span>\n    );\n  };\n\n  const getProductImage = (product) => {\n    if (product?.image_url) return product.image_url;\n    const imageMap = {\n      'projector': 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop',\n      'sound': 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop',\n      'camera': 'https://images.unsplash.com/photo-1502920917128-1aa500764cbd?w=400&h=300&fit=crop',\n      'lighting': 'https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400&h=300&fit=crop',\n      'microphone': 'https://images.unsplash.com/photo-1590602847861-f357a9332bbc?w=400&h=300&fit=crop',\n      'tripod': 'https://images.unsplash.com/photo-1606983340126-99ab4feaa64a?w=400&h=300&fit=crop',\n      'screen': 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=300&fit=crop'\n    };\n    \n    const key = Object.keys(imageMap).find(k => (product?.name || '').toLowerCase().includes(k));\n    return imageMap[key] || 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop';\n  };\n\n  // Create product (merged Products functionality)\n  const handleCreate = async (e) => {\n    e.preventDefault();\n    setCreating(true);\n    try {\n      const payload = {\n        ...formData,\n        daily_rate: parseFloat(formData.daily_rate || 0),\n        hourly_rate: parseFloat(formData.hourly_rate || 0),\n        category: showNewCategory ? newCategory : formData.category,\n      };\n      await createProduct(payload);\n      setFormData({ name: '', description: '', daily_rate: '', hourly_rate: '', sku: '', image_url: '', published: true, category: '' });\n      setShowNewCategory(false);\n      setNewCategory('');\n      setShowForm(false);\n      await fetchProducts();\n      await fetchCategories();\n    } catch (err) {\n      console.error('Failed to create product', err);\n      alert('Failed to create product');\n    } finally {\n      setCreating(false);\n    }\n  };\n\n  const mockProducts = [\n    { id: 1, name: 'Projector Model X100', category: 'Projectors', daily_rate: 50, status: 'Available' },\n    { id: 2, name: 'Sound System Pro 2000', category: 'Audio Equipment', daily_rate: 80, status: 'Reserved' },\n    { id: 3, name: 'Camera Kit Deluxe', category: 'Cameras', daily_rate: 120, status: 'Available' },\n    { id: 4, name: 'Lighting Kit Basic', category: 'Lighting', daily_rate: 40, status: 'Maintenance' },\n    { id: 5, name: 'Microphone Set Wireless', category: 'Audio Equipment', daily_rate: 60, status: 'Available' },\n    { id: 6, name: 'Tripod Heavy Duty', category: 'Accessories', daily_rate: 20, status: 'Available' },\n    { id: 7, name: 'Projector Screen Large', category: 'Accessories', daily_rate: 30, status: 'Available' },\n    { id: 8, name: 'Sound System Compact', category: 'Audio Equipment', daily_rate: 70, status: 'Rented' }\n  ];\n\n  const displayProducts = products.length > 0 ? products : mockProducts;\n  const categories = ['All Categories', ...new Set(displayProducts.map(p => p.category).filter(Boolean))];\n\n  const filteredProducts = displayProducts.filter(product => {\n    const matchesSearch = (product.name || '').toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesCategory = categoryFilter === 'All Categories' || (product.category || '') === categoryFilter;\n    return matchesSearch && matchesCategory;\n  });\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-gray-500\">Loading inventory...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"flex items-center justify-between mb-6\">\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Inventory</h1>\n        <button onClick={() => setShowForm((v)=>!v)} className=\"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700\">\n          <span className=\"text-lg\">+</span>\n          {showForm ? 'Cancel' : 'Add Product'}\n        </button>\n      </div>\n\n      {showForm && (\n        <div className=\"mb-6 bg-white border border-gray-200 rounded-lg p-4\">\n          <h3 className=\"text-lg font-semibold mb-4\">Add New Product</h3>\n          <form onSubmit={handleCreate} className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Name</label>\n              <input className=\"w-full border border-gray-300 rounded-lg p-2\" value={formData.name} onChange={(e)=>setFormData({ ...formData, name: e.target.value })} required />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">SKU</label>\n              <input className=\"w-full border border-gray-300 rounded-lg p-2\" value={formData.sku} onChange={(e)=>setFormData({ ...formData, sku: e.target.value })} required />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Daily Rate ($)</label>\n              <input type=\"number\" step=\"0.01\" className=\"w-full border border-gray-300 rounded-lg p-2\" value={formData.daily_rate} onChange={(e)=>setFormData({ ...formData, daily_rate: e.target.value })} required />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Hourly Rate ($)</label>\n              <input type=\"number\" step=\"0.01\" className=\"w-full border border-gray-300 rounded-lg p-2\" value={formData.hourly_rate} onChange={(e)=>setFormData({ ...formData, hourly_rate: e.target.value })} />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Product Image</label>\n              <input type=\"file\" accept=\"image/*\" onChange={async (e) => {\n                const f = e.target.files && e.target.files[0];\n                if (!f) return;\n                try {\n                  const res = await uploadProductImage(f);\n                  const url = res.data?.url || res.data?.path || '';\n                  if (url) setFormData({ ...formData, image_url: url });\n                } catch (err) {\n                  console.error('Upload failed', err);\n                  alert('Failed to upload image');\n                }\n              }} className=\"w-full\" />\n              {formData.image_url && (\n                <div className=\"mt-2 text-xs text-gray-600 break-all\">Uploaded: {formData.image_url}</div>\n              )}\n            </div>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Category</label>\n              <div className=\"flex gap-2\">\n                {!showNewCategory ? (\n                  <select className=\"flex-1 border border-gray-300 rounded-lg p-2\" value={formData.category} onChange={(e)=>setFormData({ ...formData, category: e.target.value })}>\n                    <option value=\"\">Select a category</option>\n                    {categoriesList.map((c) => <option key={c} value={c}>{c}</option>)}\n                  </select>\n                ) : (\n                  <input className=\"flex-1 border border-gray-300 rounded-lg p-2\" value={newCategory} onChange={(e)=>setNewCategory(e.target.value)} placeholder=\"New category name\" />\n                )}\n                <button type=\"button\" onClick={()=>setShowNewCategory(v=>!v)} className=\"px-3 py-2 border border-gray-300 rounded-lg\">{showNewCategory ? 'Use existing' : '+ New'}</button>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <input id=\"published\" type=\"checkbox\" checked={formData.published} onChange={(e)=>setFormData({ ...formData, published: e.target.checked })} />\n              <label htmlFor=\"published\" className=\"text-sm text-gray-700\">Published</label>\n            </div>\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n              <textarea className=\"w-full border border-gray-300 rounded-lg p-2\" rows={3} value={formData.description} onChange={(e)=>setFormData({ ...formData, description: e.target.value })} />\n            </div>\n            <div className=\"md:col-span-2\">\n              <button disabled={creating} className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\">{creating ? 'Creating...' : 'Create Product'}</button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Search and Filter */}\n      <div className=\"flex gap-4 mb-6\">\n        <div className=\"relative flex-1 max-w-md\">\n          <input\n            type=\"text\"\n            placeholder=\"Search inventory...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n          />\n          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n            <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n            </svg>\n          </div>\n        </div>\n        <select\n          value={categoryFilter}\n          onChange={(e) => setCategoryFilter(e.target.value)}\n          className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n        >\n          {categories.map(category => (\n            <option key={category} value={category}>{category}</option>\n          ))}\n        </select>\n      </div>\n\n      {/* Product Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n        {filteredProducts.map((product) => (\n          <div key={product.id} className=\"bg-white rounded-lg overflow-hidden border border-gray-200 hover:shadow-sm transition-shadow\">\n            <div className=\"relative\">\n              <img\n                src={getProductImage(product)}\n                alt={product.name}\n                className=\"w-full h-48 object-cover\"\n              />\n              {getStatusBadge(product.status)}\n            </div>\n            <div className=\"p-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">{product.name}</h3>\n              <p className=\"text-gray-500 text-sm mb-3\">{product.category}</p>\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-green-600 font-semibold\">{(product.hourly_rate || 0) > 0 ? `$${product.hourly_rate}/hour` : `$${product.daily_rate}/day`}</span>\n                <div className=\"flex items-center gap-3\">\n                  <span className=\"text-xs text-gray-600 bg-gray-100 border border-gray-200 px-2 py-1 rounded\">\n                    {(counts[product.id]?.active || 0)} active / {(counts[product.id]?.total || 0)} total\n                  </span>\n                  <button onClick={() => openUnitsDrawer(product)} className=\"text-blue-600 hover:text-blue-700 text-sm\">\n                    Units\n                  </button>\n                  <button onClick={() => openEdit(product)} className=\"text-gray-700 hover:text-gray-900 text-sm\">Edit</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {filteredProducts.length === 0 && (\n        <div className=\"text-center py-12\">\n          <div className=\"text-gray-500 text-lg\">No items found matching your criteria</div>\n        </div>\n      )}\n\n      {/* Side Drawer for Units */}\n      {drawerOpen && (\n        <div className=\"fixed inset-0 z-40\">\n          {/* Backdrop */}\n          <div className=\"absolute inset-0 bg-black/30\" onClick={closeUnitsDrawer} />\n          {/* Panel */}\n          <div className=\"absolute right-0 top-0 h-full w-full sm:w-[420px] bg-white shadow-xl border-l border-gray-200 flex flex-col\">\n            <div className=\"p-4 border-b border-gray-200 flex items-center justify-between\">\n              <h3 className=\"text-lg font-semibold\">Units • {selectedProduct?.name}</h3>\n              <button onClick={closeUnitsDrawer} className=\"text-gray-600 hover:text-gray-900\">✕</button>\n            </div>\n            <div className=\"p-4 overflow-y-auto flex-1\">\n              <h4 className=\"font-medium mb-2\">Add Unit</h4>\n              <form onSubmit={addUnit} className=\"grid grid-cols-1 gap-3 mb-4\">\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-1\">Label</label>\n                  <input className=\"w-full border border-gray-300 rounded-lg p-2\" value={unitForm.label} onChange={(e)=>setUnitForm({ ...unitForm, label: e.target.value })} required />\n                </div>\n                <div>\n                  <label className=\"block text-sm text-gray-700 mb-1\">Location</label>\n                  <input className=\"w-full border border-gray-300 rounded-lg p-2\" value={unitForm.location} onChange={(e)=>setUnitForm({ ...unitForm, location: e.target.value })} />\n                </div>\n                <label className=\"inline-flex items-center gap-2\">\n                  <input type=\"checkbox\" checked={unitForm.active} onChange={(e)=>setUnitForm({ ...unitForm, active: e.target.checked })} />\n                  <span className=\"text-sm text-gray-700\">Active</span>\n                </label>\n                <button disabled={savingUnit} className=\"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700\">{savingUnit ? 'Saving...' : 'Add Unit'}</button>\n              </form>\n\n              <h4 className=\"font-medium mb-2\">Existing Units</h4>\n              {units.length === 0 ? (\n                <div className=\"text-gray-500 text-sm\">No units yet.</div>\n              ) : (\n                <div className=\"space-y-2\">\n                  {units.map((it) => (\n                    <div key={it.id} className=\"border border-gray-200 rounded-lg p-3\">\n                      <div className=\"space-y-3\">\n                        <div>\n                          <label className=\"block text-xs text-gray-600 mb-1\">Label</label>\n                          <input \n                            className=\"w-full font-medium border border-gray-300 focus:border-blue-500 rounded px-2 py-1\" \n                            value={it._editLabel ?? it.label} \n                            onChange={(e)=>setUnits(prev=>prev.map(u=>u.id===it.id?{...u,_editLabel:e.target.value}:u))} \n                          />\n                        </div>\n                        <div>\n                          <label className=\"block text-xs text-gray-600 mb-1\">Location</label>\n                          <input \n                            className=\"w-full border border-gray-300 focus:border-blue-500 rounded px-2 py-1 text-sm\" \n                            value={it._editLoc ?? (it.location || '')} \n                            onChange={(e)=>setUnits(prev=>prev.map(u=>u.id===it.id?{...u,_editLoc:e.target.value}:u))} \n                            placeholder=\"Enter location\" \n                          />\n                        </div>\n                        <div className=\"text-xs text-gray-500\">Unit ID: #{it.id}</div>\n                        <div className=\"flex items-center justify-between gap-2\">\n                          <button \n                            onClick={() => toggleUnitActive(it)} \n                            className={`px-3 py-1 rounded text-white text-sm font-medium ${it.active ? 'bg-green-600 hover:bg-green-700' : 'bg-gray-400 hover:bg-gray-500'}`}\n                          >\n                            {it.active ? 'Active' : 'Inactive'}\n                          </button>\n                          <div className=\"flex gap-2\">\n                            <button \n                              onClick={() => renameUnit(it, { label: it._editLabel ?? it.label, location: it._editLoc ?? it.location })} \n                              className=\"px-3 py-1 rounded border border-blue-300 text-blue-700 hover:bg-blue-50 text-sm font-medium\"\n                            >\n                              Save\n                            </button>\n                            <button \n                              onClick={() => removeUnit(it)} \n                              className=\"px-3 py-1 rounded border border-red-300 text-red-700 hover:bg-red-50 text-sm font-medium\"\n                            >\n                              Delete\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Edit Product Modal */}\n      {editOpen && (\n        <div className=\"fixed inset-0 z-50\">\n          <div className=\"absolute inset-0 bg-black/30\" onClick={closeEdit} />\n          <div className=\"absolute inset-0 flex items-center justify-center p-4\">\n            <div className=\"bg-white w-full max-w-2xl rounded-lg shadow-xl border border-gray-200\">\n              <div className=\"p-4 border-b flex items-center justify-between\">\n                <h3 className=\"text-lg font-semibold\">Edit Product • #{editData?.id}</h3>\n                <button onClick={closeEdit} className=\"text-gray-600 hover:text-gray-900\">✕</button>\n              </div>\n              <form onSubmit={saveEdit} className=\"p-4 grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Name</label>\n                  <input className=\"w-full border rounded p-2\" value={editData?.name || ''} onChange={(e)=>setEditData({...editData, name: e.target.value})} required />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">SKU</label>\n                  <input className=\"w-full border rounded p-2\" value={editData?.sku || ''} onChange={(e)=>setEditData({...editData, sku: e.target.value})} required />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Daily Rate ($)</label>\n                  <input type=\"number\" step=\"0.01\" className=\"w-full border rounded p-2\" value={editData?.daily_rate ?? ''} onChange={(e)=>setEditData({...editData, daily_rate: e.target.value})} />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Hourly Rate ($)</label>\n                  <input type=\"number\" step=\"0.01\" className=\"w-full border rounded p-2\" value={editData?.hourly_rate ?? ''} onChange={(e)=>setEditData({...editData, hourly_rate: e.target.value})} />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Min Hours</label>\n                  <input type=\"number\" step=\"1\" min=\"1\" className=\"w-full border rounded p-2\" value={editData?.min_hours ?? ''} onChange={(e)=>setEditData({...editData, min_hours: e.target.value})} />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Max Hours (optional)</label>\n                  <input type=\"number\" step=\"1\" className=\"w-full border rounded p-2\" value={editData?.max_hours ?? ''} onChange={(e)=>setEditData({...editData, max_hours: e.target.value})} />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Category</label>\n                  <input className=\"w-full border rounded p-2\" value={editData?.category || ''} onChange={(e)=>setEditData({...editData, category: e.target.value})} />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Image URL</label>\n                  <input className=\"w-full border rounded p-2\" value={editData?.image_url || ''} onChange={(e)=>setEditData({...editData, image_url: e.target.value})} />\n                </div>\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm font-medium mb-1\">Description</label>\n                  <textarea className=\"w-full border rounded p-2\" rows={3} value={editData?.description || ''} onChange={(e)=>setEditData({...editData, description: e.target.value})} />\n                </div>\n                <label className=\"inline-flex items-center gap-2 md:col-span-2\">\n                  <input type=\"checkbox\" checked={!!editData?.published} onChange={(e)=>setEditData({...editData, published: e.target.checked})} />\n                  <span>Published</span>\n                </label>\n                <div className=\"md:col-span-2 flex justify-end gap-2\">\n                  <button type=\"button\" onClick={closeEdit} className=\"px-4 py-2 border rounded\">Cancel</button>\n                  <button type=\"submit\" className=\"px-4 py-2 bg-blue-600 text-white rounded\">Save</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Inventory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}