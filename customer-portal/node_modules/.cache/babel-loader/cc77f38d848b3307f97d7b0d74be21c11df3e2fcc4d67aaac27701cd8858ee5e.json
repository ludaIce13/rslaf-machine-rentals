{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vidai\\\\OneDrive\\\\Desktop\\\\smartrentals_mvp\\\\customer-portal\\\\src\\\\pages\\\\ProductDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { useParams, Link, useNavigate, useLocation } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { getProduct, getAvailableItems, createOrder } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductDetail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const bookingRef = useRef(null);\n\n  // Mirror the demo mapping used in Products.js for images and categories\n  const demoMap = {\n    'EXC-CAT320-001': {\n      category: 'Excavator',\n      image: 'https://images.unsplash.com/photo-1616401784845-c97df2ce2e94?q=80&w=1200&auto=format&fit=crop'\n    },\n    'DMP-MACK-GRN-001': {\n      category: 'Dump Truck',\n      image: 'https://images.unsplash.com/photo-1635322160730-70a87dcc2069?q=80&w=1200&auto=format&fit=crop'\n    },\n    'BHL-JD-410L-001': {\n      category: 'Backhoe Loader',\n      image: 'https://images.unsplash.com/photo-1570126646281-5ec88111777d?q=80&w=1200&auto=format&fit=crop'\n    },\n    'WHL-CAT950M-001': {\n      category: 'Wheel Loader',\n      image: 'https://images.unsplash.com/photo-1581092921461-eab62e97a780?q=80&w=1200&auto=format&fit=crop'\n    },\n    'CRN-GRV-RT890E-001': {\n      category: 'Crane',\n      image: 'https://images.unsplash.com/photo-1541976076758-347942db197a?q=80&w=1200&auto=format&fit=crop'\n    },\n    'BLD-CAT-D6T-001': {\n      category: 'Bulldozer',\n      image: 'https://images.unsplash.com/photo-1574201635302-388dd92a4c22?q=80&w=1200&auto=format&fit=crop'\n    }\n  };\n  const getCategory = p => {\n    var _demoMap$p$sku;\n    return (p === null || p === void 0 ? void 0 : p.category) || (p === null || p === void 0 ? void 0 : p.type) || ((_demoMap$p$sku = demoMap[p === null || p === void 0 ? void 0 : p.sku]) === null || _demoMap$p$sku === void 0 ? void 0 : _demoMap$p$sku.category) || 'Equipment';\n  };\n  const getImage = p => {\n    var _demoMap$p$sku2;\n    return (p === null || p === void 0 ? void 0 : p.image_url) || (p === null || p === void 0 ? void 0 : p.image) || (p === null || p === void 0 ? void 0 : p.thumbnail_url) || ((_demoMap$p$sku2 = demoMap[p === null || p === void 0 ? void 0 : p.sku]) === null || _demoMap$p$sku2 === void 0 ? void 0 : _demoMap$p$sku2.image) || '';\n  };\n  const [loading, setLoading] = useState(true);\n  const [product, setProduct] = useState(null);\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [checking, setChecking] = useState(false);\n  const [availableItems, setAvailableItems] = useState([]);\n  const [selectedItemId, setSelectedItemId] = useState('');\n  const [booking, setBooking] = useState(false);\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const res = await getProduct(id);\n        setProduct(res.data);\n      } catch (e) {\n        console.error(e);\n        toast.error('Failed to load product');\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [id]);\n\n  // On first load, scroll to booking section so the user can proceed\n  useEffect(() => {\n    const t = setTimeout(() => {\n      var _bookingRef$current;\n      return (_bookingRef$current = bookingRef.current) === null || _bookingRef$current === void 0 ? void 0 : _bookingRef$current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }, 100);\n    return () => clearTimeout(t);\n  }, []);\n\n  // Prefill dates from query params and auto-check when both are present\n  useEffect(() => {\n    const params = new URLSearchParams(location.search);\n    const s = params.get('start') || '';\n    const e = params.get('end') || '';\n    let changed = false;\n    if (s && s !== startDate) {\n      setStartDate(s);\n      changed = true;\n    }\n    if (e && e !== endDate) {\n      setEndDate(e);\n      changed = true;\n    }\n    if (changed && s && e) {\n      // defer to ensure state updated before check\n      setTimeout(() => {\n        onCheck();\n      }, 0);\n      // Auto-scroll to booking section so user can proceed immediately\n      setTimeout(() => {\n        var _bookingRef$current2;\n        (_bookingRef$current2 = bookingRef.current) === null || _bookingRef$current2 === void 0 ? void 0 : _bookingRef$current2.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start'\n        });\n      }, 50);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.search]);\n  const days = useMemo(() => {\n    if (!startDate || !endDate) return 0;\n    const s = new Date(startDate);\n    const e = new Date(endDate);\n    const diff = (e - s) / (1000 * 60 * 60 * 24);\n    return diff > 0 ? diff : 0;\n  }, [startDate, endDate]);\n  const estimate = useMemo(() => {\n    if (!product || !days) return 0;\n    return Math.round((product.daily_rate || 0) * days * 100) / 100;\n  }, [product, days]);\n  const onCheck = async () => {\n    if (!startDate || !endDate) {\n      toast.info('Please select a start and end date');\n      return;\n    }\n    if (days <= 0) {\n      toast.warn('End date must be after start date');\n      return;\n    }\n    try {\n      var _res$data;\n      setChecking(true);\n      const res = await getAvailableItems(id, startDate, endDate);\n      const items = Array.isArray(res.data) ? res.data : ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.items) || [];\n      setAvailableItems(items);\n      if (items.length === 0) {\n        toast.warn('No units available for the selected period');\n      } else {\n        var _items$;\n        setSelectedItemId(((_items$ = items[0]) === null || _items$ === void 0 ? void 0 : _items$.id) || '');\n        toast.success('Availability confirmed');\n      }\n    } catch (e) {\n      console.error(e);\n      toast.error('Failed to check availability');\n    } finally {\n      setChecking(false);\n    }\n  };\n  const onBook = async () => {\n    if (!selectedItemId) {\n      toast.info('Please select an available unit');\n      return;\n    }\n    try {\n      setBooking(true);\n      const payload = {\n        reservations: [{\n          inventory_item_id: selectedItemId,\n          start_date: startDate,\n          end_date: endDate\n        }]\n      };\n      const res = await createOrder(payload);\n      toast.success('Booking created');\n      navigate('/orders');\n    } catch (e) {\n      var _e$response, _e$response$data;\n      console.error(e);\n      const msg = (e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.detail) || 'Failed to create booking';\n      toast.error(msg);\n    } finally {\n      setBooking(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        padding: '2rem 0',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading product...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this);\n  }\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        padding: '2rem 0',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Product not found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/products\",\n        className: \"btn btn-primary\",\n        children: \"\\u2190 Back to Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      padding: '2rem 0'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 1100,\n        margin: '0 auto',\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n        gap: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'relative',\n            height: 320,\n            borderRadius: 12,\n            overflow: 'hidden',\n            background: '#f0f2f5'\n          },\n          children: [getImage(product) ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: getImage(product),\n            alt: product.name,\n            style: {\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: '100%',\n              background: 'linear-gradient(135deg,#667eea,#764ba2)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              position: 'absolute',\n              top: 12,\n              right: 12,\n              background: '#ff7f32',\n              color: '#fff',\n              padding: '6px 10px',\n              borderRadius: 999,\n              fontSize: 12,\n              fontWeight: 700\n            },\n            children: getCategory(product)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            marginTop: '1rem',\n            color: '#2c3e50'\n          },\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#6c757d'\n          },\n          children: product.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '0.5rem',\n            color: '#2c3e50',\n            fontWeight: 600\n          },\n          children: [\"$\", product.daily_rate, \"/day\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: bookingRef,\n        style: {\n          background: '#fff',\n          border: '1px solid #e9ecef',\n          borderRadius: 12,\n          padding: '1.25rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginTop: 0,\n            color: '#2c3e50'\n          },\n          children: \"Book this equipment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: '0.75rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                fontSize: 14,\n                color: '#2c3e50',\n                marginBottom: 4\n              },\n              children: \"Start date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: startDate,\n              onChange: e => setStartDate(e.target.value),\n              style: {\n                width: '100%',\n                padding: '0.6rem',\n                borderRadius: 8,\n                border: '1px solid #e1e5ea'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                fontSize: 14,\n                color: '#2c3e50',\n                marginBottom: 4\n              },\n              children: \"End date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: endDate,\n              onChange: e => setEndDate(e.target.value),\n              style: {\n                width: '100%',\n                padding: '0.6rem',\n                borderRadius: 8,\n                border: '1px solid #e1e5ea'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '0.5rem',\n            marginTop: '0.75rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCheck,\n            disabled: checking || !startDate || !endDate,\n            className: \"btn btn-primary\",\n            style: {\n              background: '#1b7a23'\n            },\n            children: checking ? 'Checking…' : 'Check Availability'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/products\",\n            className: \"btn btn-outline\",\n            children: \"Back to Catalog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), availableItems.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              fontSize: 14,\n              color: '#2c3e50',\n              marginBottom: 4\n            },\n            children: \"Select unit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedItemId,\n            onChange: e => setSelectedItemId(e.target.value),\n            style: {\n              width: '100%',\n              padding: '0.6rem',\n              borderRadius: 8,\n              border: '1px solid #e1e5ea'\n            },\n            children: availableItems.map(it => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: it.id,\n              children: [\"#\", it.id, \" \", it.serial ? `• ${it.serial}` : '']\n            }, it.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '0.75rem',\n              padding: '0.75rem',\n              background: '#f8fafc',\n              borderRadius: 8,\n              border: '1px solid #e9ecef'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: days\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                marginTop: 6\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Rate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"$\", product.daily_rate, \"/day\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                marginTop: 6\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Estimated total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"$\", estimate]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onBook,\n            disabled: booking,\n            className: \"btn btn-primary\",\n            style: {\n              marginTop: '0.75rem',\n              background: '#1b7a23'\n            },\n            children: booking ? 'Booking…' : 'Book Now'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetail, \"5P6SdAAbQjaxzvS3vC0TDzCuZSg=\", false, function () {\n  return [useParams, useNavigate, useLocation];\n});\n_c = ProductDetail;\nexport default ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","useParams","Link","useNavigate","useLocation","toast","getProduct","getAvailableItems","createOrder","jsxDEV","_jsxDEV","ProductDetail","_s","id","navigate","location","bookingRef","demoMap","category","image","getCategory","p","_demoMap$p$sku","type","sku","getImage","_demoMap$p$sku2","image_url","thumbnail_url","loading","setLoading","product","setProduct","startDate","setStartDate","endDate","setEndDate","checking","setChecking","availableItems","setAvailableItems","selectedItemId","setSelectedItemId","booking","setBooking","load","res","data","e","console","error","t","setTimeout","_bookingRef$current","current","scrollIntoView","behavior","block","clearTimeout","params","URLSearchParams","search","s","get","changed","onCheck","_bookingRef$current2","days","Date","diff","estimate","Math","round","daily_rate","info","warn","_res$data","items","Array","isArray","length","_items$","success","onBook","payload","reservations","inventory_item_id","start_date","end_date","_e$response","_e$response$data","msg","response","detail","className","style","padding","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","to","maxWidth","margin","display","gridTemplateColumns","gap","position","height","borderRadius","overflow","background","src","alt","name","width","objectFit","top","right","color","fontSize","fontWeight","marginTop","description","ref","border","marginBottom","value","onChange","target","onClick","disabled","map","it","serial","justifyContent","_c","$RefreshReg$"],"sources":["C:/Users/vidai/OneDrive/Desktop/smartrentals_mvp/customer-portal/src/pages/ProductDetail.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { useParams, Link, useNavigate, useLocation } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { getProduct, getAvailableItems, createOrder } from '../services/api';\n\nconst ProductDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const bookingRef = useRef(null);\n\n  // Mirror the demo mapping used in Products.js for images and categories\n  const demoMap = {\n    'EXC-CAT320-001': { category: 'Excavator', image: 'https://images.unsplash.com/photo-1616401784845-c97df2ce2e94?q=80&w=1200&auto=format&fit=crop' },\n    'DMP-MACK-GRN-001': { category: 'Dump Truck', image: 'https://images.unsplash.com/photo-1635322160730-70a87dcc2069?q=80&w=1200&auto=format&fit=crop' },\n    'BHL-JD-410L-001': { category: 'Backhoe Loader', image: 'https://images.unsplash.com/photo-1570126646281-5ec88111777d?q=80&w=1200&auto=format&fit=crop' },\n    'WHL-CAT950M-001': { category: 'Wheel Loader', image: 'https://images.unsplash.com/photo-1581092921461-eab62e97a780?q=80&w=1200&auto=format&fit=crop' },\n    'CRN-GRV-RT890E-001': { category: 'Crane', image: 'https://images.unsplash.com/photo-1541976076758-347942db197a?q=80&w=1200&auto=format&fit=crop' },\n    'BLD-CAT-D6T-001': { category: 'Bulldozer', image: 'https://images.unsplash.com/photo-1574201635302-388dd92a4c22?q=80&w=1200&auto=format&fit=crop' },\n  };\n\n  const getCategory = (p) => p?.category || p?.type || demoMap[p?.sku]?.category || 'Equipment';\n  const getImage = (p) => p?.image_url || p?.image || p?.thumbnail_url || demoMap[p?.sku]?.image || '';\n\n  const [loading, setLoading] = useState(true);\n  const [product, setProduct] = useState(null);\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [checking, setChecking] = useState(false);\n  const [availableItems, setAvailableItems] = useState([]);\n  const [selectedItemId, setSelectedItemId] = useState('');\n  const [booking, setBooking] = useState(false);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const res = await getProduct(id);\n        setProduct(res.data);\n      } catch (e) {\n        console.error(e);\n        toast.error('Failed to load product');\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [id]);\n\n  // On first load, scroll to booking section so the user can proceed\n  useEffect(() => {\n    const t = setTimeout(() => bookingRef.current?.scrollIntoView({ behavior: 'smooth', block: 'start' }), 100);\n    return () => clearTimeout(t);\n  }, []);\n\n  // Prefill dates from query params and auto-check when both are present\n  useEffect(() => {\n    const params = new URLSearchParams(location.search);\n    const s = params.get('start') || '';\n    const e = params.get('end') || '';\n    let changed = false;\n    if (s && s !== startDate) { setStartDate(s); changed = true; }\n    if (e && e !== endDate) { setEndDate(e); changed = true; }\n    if (changed && s && e) {\n      // defer to ensure state updated before check\n      setTimeout(() => { onCheck(); }, 0);\n      // Auto-scroll to booking section so user can proceed immediately\n      setTimeout(() => { bookingRef.current?.scrollIntoView({ behavior: 'smooth', block: 'start' }); }, 50);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.search]);\n\n  const days = useMemo(() => {\n    if (!startDate || !endDate) return 0;\n    const s = new Date(startDate);\n    const e = new Date(endDate);\n    const diff = (e - s) / (1000 * 60 * 60 * 24);\n    return diff > 0 ? diff : 0;\n  }, [startDate, endDate]);\n\n  const estimate = useMemo(() => {\n    if (!product || !days) return 0;\n    return Math.round((product.daily_rate || 0) * days * 100) / 100;\n  }, [product, days]);\n\n  const onCheck = async () => {\n    if (!startDate || !endDate) {\n      toast.info('Please select a start and end date');\n      return;\n    }\n    if (days <= 0) {\n      toast.warn('End date must be after start date');\n      return;\n    }\n    try {\n      setChecking(true);\n      const res = await getAvailableItems(id, startDate, endDate);\n      const items = Array.isArray(res.data) ? res.data : (res.data?.items || []);\n      setAvailableItems(items);\n      if (items.length === 0) {\n        toast.warn('No units available for the selected period');\n      } else {\n        setSelectedItemId(items[0]?.id || '');\n        toast.success('Availability confirmed');\n      }\n    } catch (e) {\n      console.error(e);\n      toast.error('Failed to check availability');\n    } finally {\n      setChecking(false);\n    }\n  };\n\n  const onBook = async () => {\n    if (!selectedItemId) {\n      toast.info('Please select an available unit');\n      return;\n    }\n    try {\n      setBooking(true);\n      const payload = {\n        reservations: [\n          { inventory_item_id: selectedItemId, start_date: startDate, end_date: endDate }\n        ]\n      };\n      const res = await createOrder(payload);\n      toast.success('Booking created');\n      navigate('/orders');\n    } catch (e) {\n      console.error(e);\n      const msg = e?.response?.data?.detail || 'Failed to create booking';\n      toast.error(msg);\n    } finally {\n      setBooking(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container\" style={{ padding: '2rem 0', textAlign: 'center' }}>\n        <p>Loading product...</p>\n      </div>\n    );\n  }\n\n  if (!product) {\n    return (\n      <div className=\"container\" style={{ padding: '2rem 0', textAlign: 'center' }}>\n        <p>Product not found.</p>\n        <Link to=\"/products\" className=\"btn btn-primary\">← Back to Products</Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\" style={{ padding: '2rem 0' }}>\n      <div style={{ maxWidth: 1100, margin: '0 auto', display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '2rem' }}>\n        <div>\n          <div style={{ position: 'relative', height: 320, borderRadius: 12, overflow: 'hidden', background: '#f0f2f5' }}>\n            {getImage(product) ? (\n              <img src={getImage(product)} alt={product.name} style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\n            ) : (\n              <div style={{ height: '100%', background: 'linear-gradient(135deg,#667eea,#764ba2)' }} />\n            )}\n            <span style={{ position: 'absolute', top: 12, right: 12, background: '#ff7f32', color: '#fff', padding: '6px 10px', borderRadius: 999, fontSize: 12, fontWeight: 700 }}>{getCategory(product)}</span>\n          </div>\n          <h1 style={{ marginTop: '1rem', color: '#2c3e50' }}>{product.name}</h1>\n          <p style={{ color: '#6c757d' }}>{product.description}</p>\n          <div style={{ marginTop: '0.5rem', color: '#2c3e50', fontWeight: 600 }}>${product.daily_rate}/day</div>\n        </div>\n\n        <div ref={bookingRef} style={{ background: '#fff', border: '1px solid #e9ecef', borderRadius: 12, padding: '1.25rem' }}>\n          <h2 style={{ marginTop: 0, color: '#2c3e50' }}>Book this equipment</h2>\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.75rem' }}>\n            <div>\n              <label style={{ display: 'block', fontSize: 14, color: '#2c3e50', marginBottom: 4 }}>Start date</label>\n              <input type=\"date\" value={startDate} onChange={(e)=>setStartDate(e.target.value)} style={{ width: '100%', padding: '0.6rem', borderRadius: 8, border: '1px solid #e1e5ea' }} />\n            </div>\n            <div>\n              <label style={{ display: 'block', fontSize: 14, color: '#2c3e50', marginBottom: 4 }}>End date</label>\n              <input type=\"date\" value={endDate} onChange={(e)=>setEndDate(e.target.value)} style={{ width: '100%', padding: '0.6rem', borderRadius: 8, border: '1px solid #e1e5ea' }} />\n            </div>\n          </div>\n\n          <div style={{ display: 'flex', gap: '0.5rem', marginTop: '0.75rem' }}>\n            <button onClick={onCheck} disabled={checking || !startDate || !endDate} className=\"btn btn-primary\" style={{ background: '#1b7a23' }}>\n              {checking ? 'Checking…' : 'Check Availability'}\n            </button>\n            <Link to=\"/products\" className=\"btn btn-outline\">Back to Catalog</Link>\n          </div>\n\n          {availableItems.length > 0 && (\n            <div style={{ marginTop: '1rem' }}>\n              <label style={{ display: 'block', fontSize: 14, color: '#2c3e50', marginBottom: 4 }}>Select unit</label>\n              <select value={selectedItemId} onChange={(e)=>setSelectedItemId(e.target.value)} style={{ width: '100%', padding: '0.6rem', borderRadius: 8, border: '1px solid #e1e5ea' }}>\n                {availableItems.map((it) => (\n                  <option key={it.id} value={it.id}>#{it.id} {it.serial ? `• ${it.serial}` : ''}</option>\n                ))}\n              </select>\n\n              <div style={{ marginTop: '0.75rem', padding: '0.75rem', background: '#f8fafc', borderRadius: 8, border: '1px solid #e9ecef' }}>\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                  <span>Days</span>\n                  <strong>{days}</strong>\n                </div>\n                <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: 6 }}>\n                  <span>Rate</span>\n                  <strong>${product.daily_rate}/day</strong>\n                </div>\n                <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: 6 }}>\n                  <span>Estimated total</span>\n                  <strong>${estimate}</strong>\n                </div>\n              </div>\n\n              <button onClick={onBook} disabled={booking} className=\"btn btn-primary\" style={{ marginTop: '0.75rem', background: '#1b7a23' }}>\n                {booking ? 'Booking…' : 'Book Now'}\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}